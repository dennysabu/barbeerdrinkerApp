info:
  version: 1.0.0
  title: BarBeerDrinkersPLUS API
  description: Getting data and analytics from the greatest bars and the thirstiest drinkers around!
  license:
    name: MIT
basePath: /api
schemes:
  - http
consumes:
  - application/json
produces:
  - text/plain

paths:
#       Beer Page       #
  /getBarsForBeer:
    post:
      description: show bars where this beer sells the most (again only top 10)
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                beer:
                  type: string
      responses:
        "200":
          description: OK
          schema:
            type: array
        "400":
          description: Bad Request

  /getTopBeerConsumers:
    post:
      description: show also drinkers who are the biggest consumers of this beer
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                beer:
                  type: string
      responses:
        "200":
          description: OK
          schema:
            type: array
        "400":
          description: Bad Request

    /beerTdDate:
      post:
        description: time distribution of when this beer sells the most, per date
        requestBody:
          content:
            application/json:
              schema:
                type: object
                properties:
                  beer:
                    type: string
        responses:
          "200":
            description: OK
            schema:
              type: array
          "400":
            description: Bad Request

    /beerTdTime:
      post:
        description: time distribution of when this beer sells the most, per time of day
        requestBody:
          content:
            application/json:
              schema:
                type: object
                properties:
                  beer:
                    type: string
        responses:
          "200":
            description: OK
            schema:
              type: array
          "400":
            description: Bad Request
#           Drinkers Page       #
      /getDrinkers:
        get:
          description: Get all drinkers
          responses:
            "200":
              description: OK
              schema:
                type: array
            "400":
              description: Bad Request

    /getTransactionsForDrinker:
      post:
        description: Given a drinker, show all his/her transactions ordered by time and grouped by different bars
        requestBody:
          content:
            application/json:
              schema:
                type: object
                properties:
                  drinker:
                    type: string
        responses:
          "200":
            description: OK
            schema:
              type: array
          "400":
            description: Bad Request

    /getDrinkersTopBeers:
      post:
        description: beers s/he orders the most (returns top 3)
        requestBody:
          content:
            application/json:
              schema:
                type: object
                properties:
                  drinker:
                    type: string
        responses:
          "200":
            description: OK
            schema:
              type: array
          "400":
            description: Bad Request
#           SQL Query Interface       #
      /query:
        post:
          description: Executes any MySQL query that does not delete data
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    query:
                      type: string
          responses:
            "200":
              description: OK
              schema:
                type: array
            "400":
              description: Bad Request
#             Bar Page        #
    /getTop10Spenders:
      post:
        description: top10 drinkers who are largest spenders,
        requestBody:
          content:
            application/json:
              schema:
                type: object
                properties:
                  bar:
                    type: string
        responses:
          "200":
            description: OK
            schema:
              type: array
          "400":
            description: Bad Request
#           TODO      #
      /getTopBeersForBarAndDay:
        post:
          description: Rank top 10 beer brands which are most popular in the specified bar on a specified day of the week or weekend
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    bar:
                      type: string
                    day:
                      type: string
          responses:
            "200":
              description: OK
              schema:
                type: array
            "400":
              description: Bad Request

    /getTimeDistForBar:
      post:
        description: Demonstrate time distribution of sales, show what are the busiest periods of the day and of the week for each bar
        requestBody:
          content:
            application/json:
              schema:
                type: object
                properties:
                  bar:
                    type: string
                  day:
                    type: string
        responses:
          "200":
            description: OK
            schema:
              type: array
          "400":
            description: Bad Request

      /getBarBySales:
        post:
          description: Rank top 10 bars by sales of each brand of a beer and total sales for each day of the week
          requestBody:
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    beer:
                      type: string
                    day:
                      type: string
          responses:
            "200":
              description: OK
              schema:
                type: array
            "400":
              description: Bad Request

#           Bartenders Page       #
    /getBartenders:
      get:
        description: Get all bartenders
        responses:
          "200":
            description: OK
            schema:
              type: array
          "400":
            description: Bad Request
